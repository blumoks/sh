ShInit2.exe - утилита инициализации и форматирования для ШИПКи

для вызова функций нужно прописать в командной строке нужные флаги после имени утилиты:

Получение списка устройств:

- "GetDeviceList"

Получение информации об устройстве:

а) в виде флагов:
 - GetDeviceInfo <ID>*

б) в понятном виде:
 - GetDeviceInfo <ID>* -more



Форматирование устройства:

а) без формирования PUK:
 - Format <ID>* WithoutPUK

б) с формированием PUK без записи его в файл: - Format <ID>* WithPUK

в) с формированием PUK с записью его в файл по умолчанию ("C:/log.txt"):
 - Format <ID>* WithPUK SaveTo Default

г) с формированием PUK с записью его в файл, выбранный пользователем:

 - Format <ID>* WithPUK SaveTo <FileName>**



Разблокирование устройства:
 - Unblock <ID>* <PUK>*** <PIN1>***** <PIN2>*****



Смена PIN устройства
 - ChangePIN <ID>* <OldPIN>**** <PIN1>***** <PIN2>*****



Примечания:
* <ID> - восьмизначный идентификационный номер устройства
** <FileName> - полное имя файла для записи PUK
*** <PUK> - PUK-код устройства

**** <OldPIN> - старый PIN устройства, который мы меняем
***** <PIN1> - новый PIN устройства
***** <PIN2> - подтверждение ввода нового PIN, должен совпадать с <PIN1>

К настоящему моменту работают все функции, но:

1. после неправильного ввода PIN при последующем вводе правильного количество оставшихся попыток ввода не сбрасывается (т.е. 3 попытки всего, 2 раза ошиблись, 1 раз ввели правильно, но потом устройство заблокируется)

2. не отображается информация о том, нужно или не менять PIN (например, после форматирования).

3. при вводе нового PIN для ШИПок 1.6, 1.67, 1.68, нужно вводить в <OldPIN> любое значение PIN (например, 0000000 или 1234567).



пример команд:


ShInit_v2.exe ChangePIN 00000002 1234567 123123123 123123123


ShInit_v2.exe Format 00000002 WithoutPUK

ShInit_v2.exe GetDeviceInfo 00000002 -more


ShInit_v2.exe Format 00000002 WithPUK SaveTo Default


ShInit_v2.exe Unblock 00000002 CA324CD4 1234567 1234567
